# Generated by Django 4.2.20 on 2026-02-19 21:43

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='AlertaAuditoria',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('MULTIPLES_LOGINS', 'Múltiples inicios de sesión'), ('ACTIVIDAD_SOSPECHOSA', 'Actividad sospechosa'), ('DESCARGA_MASIVA', 'Descarga masiva de archivos'), ('ACCESO_FUERA_HORARIO', 'Acceso fuera de horario'), ('CAMBIOS_CRITICOS', 'Cambios en datos críticos')], max_length=30)),
                ('severidad', models.CharField(choices=[('BAJA', 'Baja'), ('MEDIA', 'Media'), ('ALTA', 'Alta'), ('CRITICA', 'Crítica')], max_length=10)),
                ('descripcion', models.TextField()),
                ('detalles', models.JSONField(blank=True, null=True)),
                ('timestamp', models.DateTimeField(auto_now_add=True)),
                ('revisada', models.BooleanField(default=False)),
                ('fecha_revision', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Alerta de Auditoría',
                'verbose_name_plural': 'Alertas de Auditoría',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='AuditoriaAccesoSensible',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('object_id', models.CharField(max_length=100)),
                ('tipo_acceso', models.CharField(choices=[('VIEW', 'Visualización'), ('DOWNLOAD', 'Descarga'), ('EXPORT', 'Exportación'), ('PRINT', 'Impresión')], max_length=20)),
                ('campos_accedidos', models.JSONField(help_text='Lista de campos sensibles que fueron accedidos')),
                ('ip_address', models.GenericIPAddressField()),
                ('user_agent', models.TextField()),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('justificacion', models.TextField(help_text='Motivo del acceso a datos sensibles')),
                ('url_acceso', models.CharField(blank=True, max_length=500)),
                ('metodo_http', models.CharField(blank=True, max_length=10)),
                ('fuera_horario', models.BooleanField(default=False, help_text='Acceso fuera del horario laboral (22:00-06:00)')),
                ('acceso_multiple', models.BooleanField(default=False, help_text='Múltiples accesos en corto tiempo')),
            ],
            options={
                'verbose_name': 'Auditoría de Acceso Sensible',
                'verbose_name_plural': 'Auditorías de Accesos Sensibles',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='AuditoriaCiudadano',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('accion', models.CharField(choices=[('CREATE', 'Crear'), ('UPDATE', 'Actualizar'), ('DELETE', 'Eliminar'), ('VIEW', 'Ver'), ('DOWNLOAD', 'Descargar'), ('EXPORT', 'Exportar'), ('RESTORE', 'Restaurar')], max_length=20)),
                ('campos_modificados', models.JSONField(blank=True, help_text='{"campo": {"anterior": "valor", "nuevo": "valor"}}', null=True)),
                ('datos_anteriores', models.JSONField(blank=True, null=True)),
                ('datos_nuevos', models.JSONField(blank=True, null=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('motivo', models.TextField(blank=True, help_text='Justificación del cambio (requerido para datos sensibles)')),
                ('modifico_datos_personales', models.BooleanField(default=False, help_text='DNI, nombre, apellido modificados')),
            ],
            options={
                'verbose_name': 'Auditoría de Ciudadano',
                'verbose_name_plural': 'Auditorías de Ciudadanos',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='AuditoriaConsentimiento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('accion', models.CharField(choices=[('CREATE', 'Crear'), ('UPDATE', 'Actualizar'), ('DELETE', 'Eliminar'), ('VIEW', 'Ver'), ('DOWNLOAD', 'Descargar'), ('EXPORT', 'Exportar'), ('RESTORE', 'Restaurar')], max_length=20)),
                ('datos_completos', models.JSONField(help_text='Snapshot completo del consentimiento')),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('archivo_hash', models.CharField(blank=True, help_text='SHA256 del archivo adjunto', max_length=64)),
                ('archivo_nombre', models.CharField(blank=True, max_length=255)),
                ('motivo', models.TextField(help_text='Justificación del cambio (OBLIGATORIO para DELETE)')),
            ],
            options={
                'verbose_name': 'Auditoría de Consentimiento',
                'verbose_name_plural': 'Auditorías de Consentimientos',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='AuditoriaDerivacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('accion', models.CharField(choices=[('CREATE', 'Crear'), ('UPDATE', 'Actualizar'), ('DELETE', 'Eliminar'), ('VIEW', 'Ver'), ('DOWNLOAD', 'Descargar'), ('EXPORT', 'Exportar'), ('RESTORE', 'Restaurar')], max_length=20)),
                ('estado_anterior', models.CharField(blank=True, max_length=20)),
                ('estado_nuevo', models.CharField(blank=True, max_length=20)),
                ('datos_completos', models.JSONField()),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('cambio_estado', models.BooleanField(default=False)),
                ('cambio_urgencia', models.BooleanField(default=False)),
            ],
            options={
                'verbose_name': 'Auditoría de Derivación',
                'verbose_name_plural': 'Auditorías de Derivaciones',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='AuditoriaEvaluacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('accion', models.CharField(choices=[('CREATE', 'Crear'), ('UPDATE', 'Actualizar'), ('DELETE', 'Eliminar'), ('VIEW', 'Ver'), ('DOWNLOAD', 'Descargar'), ('EXPORT', 'Exportar'), ('RESTORE', 'Restaurar')], max_length=20)),
                ('campos_modificados', models.JSONField(blank=True, null=True)),
                ('datos_anteriores', models.JSONField(blank=True, null=True)),
                ('datos_nuevos', models.JSONField(blank=True, null=True)),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('genera_alerta', models.BooleanField(default=False, help_text='Genera alerta automática por cambio en riesgo_suicida o violencia')),
                ('cambio_riesgo_suicida', models.BooleanField(default=False)),
                ('cambio_violencia', models.BooleanField(default=False)),
                ('riesgo_suicida_anterior', models.BooleanField(blank=True, null=True)),
                ('riesgo_suicida_nuevo', models.BooleanField(blank=True, null=True)),
                ('violencia_anterior', models.BooleanField(blank=True, null=True)),
                ('violencia_nuevo', models.BooleanField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Auditoría de Evaluación',
                'verbose_name_plural': 'Auditorías de Evaluaciones',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='AuditoriaEventoCritico',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('accion', models.CharField(choices=[('CREATE', 'Crear'), ('UPDATE', 'Actualizar'), ('DELETE', 'Eliminar'), ('VIEW', 'Ver'), ('DOWNLOAD', 'Descargar'), ('EXPORT', 'Exportar'), ('RESTORE', 'Restaurar')], max_length=20)),
                ('datos_anteriores', models.JSONField(blank=True, null=True)),
                ('datos_nuevos', models.JSONField(blank=True, null=True)),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('notificados', models.JSONField(blank=True, help_text='Lista de personas/instituciones notificadas del cambio', null=True)),
                ('tipo_evento', models.CharField(blank=True, max_length=40)),
            ],
            options={
                'verbose_name': 'Auditoría de Evento Crítico',
                'verbose_name_plural': 'Auditorías de Eventos Críticos',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='AuditoriaInstitucion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('accion', models.CharField(choices=[('CREATE', 'Crear'), ('UPDATE', 'Actualizar'), ('DELETE', 'Eliminar'), ('VIEW', 'Ver'), ('DOWNLOAD', 'Descargar'), ('EXPORT', 'Exportar'), ('RESTORE', 'Restaurar')], max_length=20)),
                ('campos_modificados', models.JSONField(blank=True, null=True)),
                ('datos_anteriores', models.JSONField(blank=True, null=True)),
                ('datos_nuevos', models.JSONField(blank=True, null=True)),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('cambio_estado_registro', models.BooleanField(default=False, help_text='Cambió el estado de registro de la institución')),
                ('estado_registro_anterior', models.CharField(blank=True, max_length=15)),
                ('estado_registro_nuevo', models.CharField(blank=True, max_length=15)),
                ('cambio_activo', models.BooleanField(default=False)),
            ],
            options={
                'verbose_name': 'Auditoría de Institución',
                'verbose_name_plural': 'Auditorías de Instituciones',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='AuditoriaLegajo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('accion', models.CharField(choices=[('CREATE', 'Crear'), ('UPDATE', 'Actualizar'), ('DELETE', 'Eliminar'), ('VIEW', 'Ver'), ('DOWNLOAD', 'Descargar'), ('EXPORT', 'Exportar'), ('RESTORE', 'Restaurar')], max_length=20)),
                ('campo_modificado', models.CharField(blank=True, help_text='estado, responsable, nivel_riesgo, etc.', max_length=100)),
                ('valor_anterior', models.TextField(blank=True)),
                ('valor_nuevo', models.TextField(blank=True)),
                ('datos_completos_anteriores', models.JSONField(blank=True, null=True)),
                ('datos_completos_nuevos', models.JSONField(blank=True, null=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('motivo', models.TextField(blank=True)),
                ('cambio_estado', models.BooleanField(default=False)),
                ('cambio_responsable', models.BooleanField(default=False)),
                ('cambio_nivel_riesgo', models.BooleanField(default=False)),
            ],
            options={
                'verbose_name': 'Auditoría de Legajo',
                'verbose_name_plural': 'Auditorías de Legajos',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='AuditoriaPlanIntervencion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('accion', models.CharField(choices=[('CREATE', 'Crear'), ('UPDATE', 'Actualizar'), ('DELETE', 'Eliminar'), ('VIEW', 'Ver'), ('DOWNLOAD', 'Descargar'), ('EXPORT', 'Exportar'), ('RESTORE', 'Restaurar')], max_length=20)),
                ('campos_modificados', models.JSONField(blank=True, null=True)),
                ('datos_anteriores', models.JSONField(blank=True, null=True)),
                ('datos_nuevos', models.JSONField(blank=True, null=True)),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('cambio_vigencia', models.BooleanField(default=False, help_text='Cambió el estado de vigencia del plan')),
                ('vigente_anterior', models.BooleanField(blank=True, null=True)),
                ('vigente_nuevo', models.BooleanField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Auditoría de Plan de Intervención',
                'verbose_name_plural': 'Auditorías de Planes de Intervención',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='Dia',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=255)),
            ],
            options={
                'verbose_name': 'Dia',
                'verbose_name_plural': 'Dias',
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='Mes',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=255)),
            ],
            options={
                'verbose_name': 'Mes',
                'verbose_name_plural': 'Meses',
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='Provincia',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=255, unique=True)),
            ],
            options={
                'verbose_name': 'Provincia',
                'verbose_name_plural': 'Provincia',
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='Sexo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sexo', models.CharField(max_length=10)),
            ],
            options={
                'verbose_name': 'Sexo',
                'verbose_name_plural': 'Sexos',
            },
        ),
        migrations.CreateModel(
            name='Turno',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=255)),
            ],
            options={
                'verbose_name': 'Turno',
                'verbose_name_plural': 'Turnos',
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='SesionUsuario',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('session_key', models.CharField(max_length=40, unique=True)),
                ('ip_address', models.GenericIPAddressField()),
                ('user_agent', models.TextField(blank=True)),
                ('inicio_sesion', models.DateTimeField(auto_now_add=True)),
                ('ultima_actividad', models.DateTimeField(auto_now=True)),
                ('fin_sesion', models.DateTimeField(blank=True, null=True)),
                ('activa', models.BooleanField(default=True)),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Sesión de Usuario',
                'verbose_name_plural': 'Sesiones de Usuario',
                'ordering': ['-inicio_sesion'],
            },
        ),
        migrations.CreateModel(
            name='OperacionMasiva',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('IMPORT', 'Importación'), ('EXPORT', 'Exportación'), ('UPDATE_BATCH', 'Actualización Masiva'), ('DELETE_BATCH', 'Eliminación Masiva')], max_length=20)),
                ('modelo_afectado', models.CharField(max_length=100)),
                ('cantidad_registros', models.PositiveIntegerField()),
                ('registros_exitosos', models.PositiveIntegerField(default=0)),
                ('registros_fallidos', models.PositiveIntegerField(default=0)),
                ('archivo_origen', models.FileField(blank=True, upload_to='auditorias/operaciones/')),
                ('archivo_log', models.FileField(blank=True, upload_to='auditorias/logs/')),
                ('fecha_inicio', models.DateTimeField(auto_now_add=True)),
                ('fecha_fin', models.DateTimeField(blank=True, null=True)),
                ('completada', models.BooleanField(default=False)),
                ('errores', models.JSONField(blank=True, null=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('usuario', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Operación Masiva',
                'verbose_name_plural': 'Operaciones Masivas',
                'ordering': ['-fecha_inicio'],
            },
        ),
        migrations.CreateModel(
            name='Municipio',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=255)),
                ('provincia', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='core.provincia')),
            ],
            options={
                'verbose_name': 'Municipio',
                'verbose_name_plural': 'Municipio',
                'ordering': ['id'],
            },
        ),
        migrations.CreateModel(
            name='LogDescargaArchivo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('archivo_nombre', models.CharField(max_length=255)),
                ('archivo_path', models.CharField(max_length=500)),
                ('modelo_origen', models.CharField(blank=True, max_length=100)),
                ('objeto_id', models.CharField(blank=True, max_length=100)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
                ('timestamp', models.DateTimeField(auto_now_add=True)),
                ('usuario', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Log de Descarga',
                'verbose_name_plural': 'Logs de Descargas',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='LogAccion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('accion', models.CharField(choices=[('LOGIN', 'Inicio de sesión'), ('LOGOUT', 'Cierre de sesión'), ('CREATE', 'Crear'), ('UPDATE', 'Actualizar'), ('DELETE', 'Eliminar'), ('VIEW', 'Ver'), ('DOWNLOAD', 'Descargar'), ('EXPORT', 'Exportar'), ('IMPORT', 'Importar')], max_length=20)),
                ('modelo', models.CharField(blank=True, max_length=100)),
                ('objeto_id', models.CharField(blank=True, max_length=100)),
                ('objeto_repr', models.CharField(blank=True, max_length=200)),
                ('detalles', models.JSONField(blank=True, null=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True)),
                ('timestamp', models.DateTimeField(auto_now_add=True)),
                ('usuario', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Log de Acción',
                'verbose_name_plural': 'Logs de Acciones',
                'ordering': ['-timestamp'],
            },
        ),
        migrations.CreateModel(
            name='Localidad',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=255)),
                ('municipio', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='core.municipio')),
            ],
            options={
                'verbose_name': 'Localidad',
                'verbose_name_plural': 'Localidad',
            },
        ),
        migrations.CreateModel(
            name='Institucion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('creado', models.DateTimeField(auto_now_add=True)),
                ('modificado', models.DateTimeField(auto_now=True)),
                ('tipo', models.CharField(choices=[('DTC', 'Dispositivo Territorial Comunitario'), ('CAAC', 'Casa de Atención y Acompañamiento Comunitario'), ('CCC', 'Casa Comunitaria Convivencial'), ('CAI', 'Centro de Asistencia Inmediata'), ('IC', 'Institución Conveniada'), ('CT', 'Comunidad Terapéutica')], db_index=True, max_length=15)),
                ('nombre', models.CharField(db_index=True, max_length=180)),
                ('direccion', models.CharField(blank=True, max_length=240)),
                ('telefono', models.CharField(blank=True, max_length=40)),
                ('email', models.EmailField(blank=True, db_index=True, max_length=254)),
                ('activo', models.BooleanField(db_index=True, default=True)),
                ('descripcion', models.TextField(blank=True)),
                ('estado_registro', models.CharField(choices=[('BORRADOR', 'Borrador'), ('ENVIADO', 'Enviado'), ('REVISION', 'En Revisión'), ('OBSERVADO', 'Observado'), ('APROBADO', 'Aprobado'), ('RECHAZADO', 'Rechazado')], db_index=True, default='BORRADOR', max_length=15)),
                ('fecha_solicitud', models.DateField(blank=True, null=True)),
                ('fecha_aprobacion', models.DateField(blank=True, null=True)),
                ('observaciones', models.TextField(blank=True)),
                ('tipo_personeria', models.CharField(blank=True, choices=[('ASOCIACION_CIVIL', 'Asociación Civil'), ('FUNDACION', 'Fundación'), ('SOCIEDAD_CIVIL', 'Sociedad Civil'), ('SOCIEDAD_COMERCIAL', 'Sociedad Comercial'), ('ENTIDAD_PUBLICA', 'Entidad Pública'), ('OTRO', 'Otro')], max_length=20)),
                ('nro_personeria', models.CharField(blank=True, max_length=80)),
                ('fecha_personeria', models.DateField(blank=True, null=True)),
                ('cuit', models.CharField(blank=True, max_length=15)),
                ('nro_registro', models.CharField(blank=True, max_length=80)),
                ('resolucion', models.CharField(blank=True, max_length=120)),
                ('fecha_alta', models.DateField(auto_now_add=True)),
                ('presta_asistencia', models.BooleanField(default=False, verbose_name='Presta servicios de asistencia')),
                ('convenio_obras_sociales', models.BooleanField(default=False, verbose_name='Tiene convenio con Obras Sociales')),
                ('nro_sss', models.CharField(blank=True, max_length=80, verbose_name='Número SSS')),
                ('encargados', models.ManyToManyField(blank=True, limit_choices_to={'groups__name': 'EncargadoInstitucion'}, related_name='instituciones_encargadas', to=settings.AUTH_USER_MODEL, verbose_name='Encargados de la Institución')),
                ('localidad', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='core.localidad')),
                ('municipio', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='core.municipio')),
                ('provincia', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='core.provincia')),
            ],
            options={
                'verbose_name': 'Institución',
                'verbose_name_plural': 'Instituciones',
            },
        ),
        migrations.CreateModel(
            name='DocumentoRequerido',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('creado', models.DateTimeField(auto_now_add=True)),
                ('modificado', models.DateTimeField(auto_now=True)),
                ('tipo', models.CharField(choices=[('PERSONERIA_JURIDICA', 'Personería Jurídica'), ('ESTATUTO', 'Estatuto'), ('ACTA_ASAMBLEA', 'Acta última Asamblea'), ('CONTRATO_SOCIETARIO', 'Contrato Societario'), ('ACTA_CONSTITUCION', 'Acta de Constitución'), ('HABILITACION_MUNICIPAL', 'Habilitación Municipal'), ('PLANOS', 'Planos'), ('CONSTANCIA_AFIP', 'Constancia AFIP'), ('TITULO_PROPIEDAD', 'Título de Propiedad/Contrato'), ('REGLAMENTO_INTERNO', 'Reglamento Interno'), ('SEGUROS', 'Seguros de Responsabilidad Civil'), ('BALANCE', 'Último Balance'), ('MATRICULACION', 'Matriculación Directivos'), ('RECURSOS_HUMANOS', 'Listado Recursos Humanos'), ('PROGRAMAS', 'Programas Preventivos/Asistenciales'), ('ORGANIGRAMA', 'Organigrama'), ('REGISTRO_BIEN_PUBLICO', 'Registro Entidad Bien Público'), ('CONSTANCIA_SSS', 'Constancia SSS'), ('HABILITACION_SANITARIA', 'Habilitación Sanitaria'), ('CONVENIO_EMERGENCIA', 'Convenio Centro Emergencia'), ('CONVENIO_SANITARIO', 'Convenio Centro Sanitario')], max_length=30)),
                ('archivo', models.FileField(blank=True, upload_to='documentos_instituciones/')),
                ('estado', models.CharField(choices=[('PENDIENTE', 'Pendiente'), ('CARGADO', 'Cargado'), ('APROBADO', 'Aprobado'), ('OBSERVADO', 'Observado')], default='PENDIENTE', max_length=15)),
                ('observaciones', models.TextField(blank=True)),
                ('obligatorio', models.BooleanField(default=True)),
                ('institucion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='documentos', to='core.institucion')),
            ],
            options={
                'verbose_name': 'Documento Requerido',
                'verbose_name_plural': 'Documentos Requeridos',
            },
        ),
    ]
